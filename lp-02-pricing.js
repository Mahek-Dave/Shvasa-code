/*
(()=>{let e={single:"665708dad512b0703cb1b4ea",threeMonth:"66570940d512b0703cb1b884",yearly:"66570984d512b0703cb1cc92"},r={inr:"₹",usd:"$",cad:"CA$",aed:"AED",gbp:"£"},t=["US","IN","AE","GB","CA"],o=async function(e,r){try{let t=r?fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}):fetch(e,{method:"GET"}),o=await Promise.race([t,new Promise(function(e,r){setTimeout(function(){r(Error(`%c Request took too long\u{23F0}! Timeout after 10 seconds`,"color:red;font-weight:bold;"))},1e4)})]),n=await o.json();if(!o.ok)throw Error(`${n.message} (${o.status})`);return n}catch(e){throw e}},n={},c=async function(){try{let{countryCode:e}=await o("https://extreme-ip-lookup.com/json/?key=2R3cffV00WVwfx3gbVPo");if(console.log(e),!t.some(r=>r===e))return"US";switch(e){case"GB":return"UK";case void 0:return"US";default:return e}}catch(e){return console.error("Error fetching country code:",e),"US"}},a=async function(e){try{return(await o(`https://services.shvasa.com/api/package/data/${e}`)).body.priceInfo}catch(r){console.error(`Error fetching package data for ID ${e}:`,r)}},i=async function(){let r=Object.entries(e),t=await c();for(let[e,o]of r){let r=await a(o);console.log(r);let c=r.filter(e=>e.countryCode===t),i=0===c.length?s(r):c;n[e]=i}},s=function(e){return e.filter(e=>"US"===e.countryCode)};var l=new class{_pricingObj={};async pricingHandler(e){for(let[r,t]of(await e(),this._convertObjToArr()))console.log(r,t),this._setDataToBlock(r,t)}_convertObjToArr=function(){return console.log(this._pricingObj),Object.entries(this._pricingObj)};_setDataToBlock(e,t){let o=document.querySelector(`#${e}`);console.log(o);let n=o.querySelector("[data-main-price]"),c=o.querySelector("[data-per-day-price]"),a=o.querySelector("[data-saved-amount]");n.innerHTML=`${r[t.currency]}${t.amount}`,c.innerHTML=`${r[t.currency]}${t.perClassPrice}`,a&&(a.innerHTML=`${r[t.currency]}${+t.originalPrice-+t.amount}`)}setObj(e){console.log(e),Object.entries(e).forEach(e=>{let[r,t]=e,o=t[0];this._pricingObj[r]={countryCode:o.countryCode,currency:o.currency,amount:o.amount,perClassPrice:o.displayData.pricePerClass,originalPrice:o.displayData.originalPrice.$numberDecimal}})}};let u=async function(e){await i(),l.setObj(n)};l.pricingHandler(u)})();
*/
(()=>{let r={single:"665708dad512b0703cb1b4ea",threeMonth:"66570940d512b0703cb1b884",yearly:"66570984d512b0703cb1cc92"},e={inr:"₹",usd:"$",cad:"CA$",aed:"AED",gbp:"£"},t=["US","IN","AE","GB","CA"],o=async function(r,e){try{let t=e?fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):fetch(r,{method:"GET"}),o=await Promise.race([t,new Promise(function(r,e){setTimeout(function(){e(Error(`%c Request took too long\u{23F0}! Timeout after 10 seconds`,"color:red;font-weight:bold;"))},1e4)})]),n=await o.json();if(!o.ok)throw Error(`${n.message} (${o.status})`);return n}catch(r){throw r}},n={},c=async function(){try{let{countryCode:r}=await o("https://extreme-ip-lookup.com/json/?key=2R3cffV00WVwfx3gbVPo");if(console.log(r),!t.some(e=>e===r)||void 0===r)return"US";return r}catch(r){return console.error("Error fetching country code:",r),"US"}},a=async function(r){try{return(await o(`https://services.shvasa.com/api/package/data/${r}`)).body.priceInfo}catch(e){console.error(`Error fetching package data for ID ${r}:`,e)}},i=async function(){let e=Object.entries(r),t=await c();for(let[r,o]of e){let e=await a(o),c=e.filter(r=>r.countryCode===t),i=0===c.length?s(e):c;n[r]=i}},s=function(r){return r.filter(r=>"US"===r.countryCode)};var l=new class{_pricingObj={};async pricingHandler(r){try{for(let[e,t]of(await r(),this._convertObjToArr()))this._setDataToBlock(e,t)}catch(r){console.error("Error in pricingHandler:",r)}}_convertObjToArr=function(){return Object.entries(this._pricingObj)};_setDataToBlock(r,t){try{let o=document.querySelector(`#${r}`),n=o.querySelector("[data-main-price]"),c=o.querySelector("[data-per-day-price]"),a=o.querySelector("[data-saved-amount]");if(n.innerHTML=`${e[t.currency]}${t.amount}`,c.innerHTML=`${e[t.currency]}${t.perClassPrice}`,!a)return;a.innerHTML=`${e[t.currency]}${+t.originalPrice-+t.amount}`}catch(r){console.error("Error in _setDataToBlock:",r)}}setObj(r){Object.entries(r).forEach(r=>{let[e,t]=r,o=t[0];this._pricingObj[e]={countryCode:o.countryCode,currency:o.currency,amount:o.amount,perClassPrice:o.displayData.pricePerClass,originalPrice:o.displayData.originalPrice.$numberDecimal}})}};let u=async function(r){await i(),l.setObj(n)};l.pricingHandler(u)})();
